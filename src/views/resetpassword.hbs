<div class="outer">
  <div class="middle">
    <article class="panel panel-auth">
      <div class="panel-heading panel-header">
        <h3 class="page-header auth-title">Reset Password</h3>
      </div>
      <div class="separator"></div>
      <div class="panel-body panel-content">
        {{#if errors }}
          {{> partials/error }}
        {{else}}
          <form action="{{> partials/href }}{{#if data.reset_token}}&reset_token={{data.reset_token}}{{/if}}" method="post" accept-charset="UTF-8" onsubmit="return validate();">
            <div class="form-group vt-input">
              <label for="control-label">Password</label>
              <input title="Password must contain 4 characters at least a number and a letter" class="form-control is-focused" id="reset-password" type="password" name="password" required pattern="(?=.*\d)(?=.*[a-zA-Z]).{4,}" />
            </div>
             <div class="form-group vt-input">
              <label for="control-label">Re-enter Password</label>
              <input title="Re-enter password" class="form-control is-focused" id="reset-password-again" type="password" name="password-again" required pattern="(?=.*\d)(?=.*[a-zA-Z]).{4,}$" />
            </div>
           <div class="clear-fix"></div>

          <p id="output-errors" ></p>

            <div class="form-actions">
              <input class="greened btn submit" type="submit" value="Submit" />
            </div>
          </form>
        {{/if}}
      </div>
    </article>
  </div>
</div>
<script type="text/javascript">
  function validate(){

    var password = document.getElementById('reset-password');
    var password_again = document.getElementById('reset-password-again');
    var error = document.getElementById('output-errors');

    if ( password.value.trim() == '' ){
      error.innerHTML = "";
      error.innerHTML = "Please choose your password";
      return false;
    }

    if ( password_again.value.trim() == '' ){
      error.innerHTML = "";
      error.innerHTML = "Please re-enter password";
      return false;
    }

    if ( password_again.value.trim() !== password.value ){
      error.innerHTML = "";
      error.innerHTML = "Passwords do not match";
      return false;
    }
  }
</script>
